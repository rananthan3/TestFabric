<!DOCTYPE html>
<html>

<head>
<script type="text/javascript" src="fabric.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css">
<script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
<script src="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
</head>
<body>


<div data-role="header">
  <h1>Slider Control</h1>
</div>

<label for="points">Angle:</label>
<input type="range" name="Angle" id="points" value="0" min="-180" max="180" onchange="animage()">
<button onclick="animate2()">Animate </button>
  



<canvas id="c" width="1920" height="1080" style="border:none">

<script>
// create a wrapper around native canvas element (with id="c")
var canvas = new fabric.Canvas('c');


arr = [];
// create a rectangle object
var rect1 = new fabric.Rect({
  left: 100,
  top: 100,
  fill: 'red',
  width: 100,
  height:100
});
arr.push(rect1);

var rect2 = new fabric.Rect({
  left: 200,
  top: 100,
  fill: 'blue',
  width: 100,
  height: 100
  
});

arr.push(rect2);

var rect3 = new fabric.Rect({
  left: 300,
  top: 100,
  fill: 'green',
  width: 100,
  height: 100
  
});

arr.push(rect3);

var rect4 = new fabric.Rect({
  left: 100,
  top: 200,
  fill: 'orange',
  width: 100,
  height: 100
  
});
arr.push(rect4);

var rect5 = new fabric.Rect({
  left: 200,
  top: 200,
  fill: 'yellow',
  width: 100,
  height: 100
  
});

arr.push(rect5);

var rect6 = new fabric.Rect({
  left: 300,
  top: 200,
  fill: 'indigo',
  width: 100,
  height: 100
  
});

arr.push(rect6);

var group = new fabric.Group(arr, {
  left: 600,
  top: 300,
  angle: 0,
  originX: "center", 
  originY: "center"
});

var group2 = new fabric.Group(arr, {
  left: 1000,
  top: 300,
  angle: 0,
  originX: "center", 
  originY: "center"
});

// "add" rectangle onto canvas



canvas.add(group);
canvas.add(group2);

function animage(){

  var angleVal = document.getElementById("points").value;
  
  group.set({angle: angleVal});
  group2.set({angle: angleVal});
  canvas.renderAll();
  //group.animate('angle', '-=360', { onChange: canvas.renderAll.bind(canvas) });
}

function animate2(){
  group.set({angle: 0});
  group.animate('angle', '+=360', { onChange: canvas.renderAll.bind(canvas) });

  console.log(group);
}

</script>

</body>
</html>
